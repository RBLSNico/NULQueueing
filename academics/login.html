<!DOCTYPE html>
<head>
  <link rel="stylesheet" type="text/css" href="./css/index.css" />
  <link rel="stylesheet" type="text/css" href="./css/header.css" />
  <link rel="stylesheet" type="text/css" href="./css/login.css" />

  <script
    src="https://kit.fontawesome.com/bd6fee4447.js"
    crossorigin="anonymous"
  ></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Include jQuery -->
  <title>Academics Log-in</title>
</head>
<html>
  <body>
    <header>
      <div class="logo-div">
        <img src="img/nu_logo.png" />
        <div>
          <h1>NU LAGUNA</h1>
          <p>QUEUEING SYSTEM</p>
        </div>
      </div>
    </header>

    <div class="main-div2">
      <div class="form-div">
        <h1>ADMIN LOGIN</h1>
        <h3>ACADEMICS</h3>
        <br /><br />
        <div id="login-error" style="color: red"></div>
        <!-- Container for error messages -->
        <form id="login-form">
          <input
            type="text"
            id="username"
            name="username"
            placeholder="Username or Email"
            required
          />

          <input
            type="password"
            id="password"
            name="password"
            placeholder="Password"
            required
          />

          <div class="password-container">
            <div class="checkbox-div">
              <input
                type="checkbox"
                id="show-password"
                name="show-password"
                onchange="showPassword()"
              />
              <label for="show-password">Show Password</label>
            </div>

            <div class="forget-password">
              <a href="forgetpass.html">forgot password?</a>
            </div>
          </div>

          <br /><br />

          <input type="button" value="Login" onclick="performLogin()" />
        </form>
      </div>
    </div>

    <script>
      function showPassword() {
        var passwordField = document.getElementById("password");
        if (passwordField.type === "password") {
          passwordField.type = "text";
        } else {
          passwordField.type = "password";
        }
      }

      function performLogin() {
        var username = $("#username").val();
        var password = $("#password").val();

        $.ajax({
          type: "POST",
          url: "login.php", // Update with the correct URL for your login.php script
          data: {
            username: username,
            password: password,
          },
          success: function (response) {
            if (response === "success") {
              // Redirect to a success page or perform desired action
              window.location.href = "index.php";
            } else {
              // Display an error message
              $("#login-error").html("Invalid username or password.");
            }
          },
        });
      }
    </script>
  </body>
</html>
